---
import Temporal from "../layouts/Temporal.astro";

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `Temporals` directories, and start fresh.
---

<Temporal>
<div class="loop-container" id="loopContainer">
  <div class="loop-content" id="loopContent">
    <div class="item"></div>
    <div class="item"></div>
    <div class="item"></div>
  </div>
</div>

</Temporal>
<style>
body, html {
  margin: 0;
  height: 100%;
  overflow: hidden;
  background: #ccc;
}

.loop-container {
  height: 100vh;
  overflow-y: scroll;
  scroll-behavior: auto;
}

.loop-content {
  display: flex;
  flex-direction: column;
}

.item {
  height: 500px; /* ðŸ“Œ PodÃ©s cambiar esto a lo que quieras */
  background-color: red;
  margin: 20px 0; /* Opcional: separaciÃ³n entre bloques */
}


</style>

<script>
  const container = document.getElementById("loopContainer");
  const content = document.getElementById("loopContent");

  // Clonamos el contenido dinÃ¡micamente
  const clone = content.cloneNode(true);
  content.appendChild(clone);

  // Detectamos el punto medio para hacer loop
  container.addEventListener("scroll", () => {
    const scrollMax = content.scrollHeight / 2;

    if (container.scrollTop >= scrollMax) {
      container.scrollTop = 0;
    }
  });

  // Autoscroll suave
  setInterval(() => {
    container.scrollTop += 1;
  }, 10);
</script>

